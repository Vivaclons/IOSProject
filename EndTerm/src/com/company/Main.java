package com.company;import com.company.FlyWeight.Shop;import com.company.FlyWeight.ShopFactory;import com.company.FlyWeight.Sulpac;import com.company.FlyWeight.Technodom;import com.company.State.Activity;import com.company.State.NewOrder;import java.util.*;public class Main {    public static void main(String[] args) {//        Notifier reportNotifier = new SimpleReportNotifier(Priority.ROUTINE);//        Notifier emailNotifier = new EmailNotifier(Priority.IMPORTANT);//        Notifier smsNotifier = new SMSNotifier(Priority.ASAP);////        reportNotifier.setNextNotifier(emailNotifier);//        emailNotifier.setNextNotifier(smsNotifier);////        reportNotifier.notifyManager("You do not have a problem", Priority.ROUTINE);//        reportNotifier.notifyManager("Something is wrong", Priority.IMPORTANT);//        reportNotifier.notifyManager("You have lost everything(discarge)", Priority.ASAP);        Scanner sc = new Scanner(System.in);        List<Product> products = new ArrayList<>();        List<Shop> shopList = new ArrayList<>();        Activity activity = new NewOrder();        ShopFactory shopFactory = new ShopFactory();        System.out.println("<--------Welcome to iTechno----------->");        System.out.println("1.) Sulpac");        System.out.println("2.) Technodom");        System.out.println("Please, choose the shop ");        int q = sc.nextInt();        if(q == 1){            shopList.add(shopFactory.getShopByTitle("Sulpac"));            Sulpac sulpac = new Sulpac();            Product product1 = new Product("Phone", 15000, "black");            Product product2 = new Product("Phone2", 13000, "yellow");            Product product3 = new Product("Phone3", 14500, "yellow");            Product product5 = new Product("PC", 24500, "Gray");            sulpac.getListOfProducts().add(product1);            sulpac.getListOfProducts().add(product2);            sulpac.getListOfProducts().add(product3);            sulpac.getListOfProducts().add(product5);            for (int i = 0; i < shopList.size(); i++){                if(shopList.get(i) instanceof Sulpac){                    for (int j = 0; j < sulpac.getListOfProducts().size(); j++) {                        System.out.println(j + 1 + ".) " +sulpac.getListOfProducts().get(j));                    }                }            }            while (true) {                System.out.println("Please, choose the product that you wont to add:");                int s = sc.nextInt();                if (s >= 1 && s <= sulpac.getListOfProducts().size()) {                    for (int i = 0; i < sulpac.getListOfProducts().size(); i++) {                        if(s-1 == i)                            products.add(sulpac.getListOfProducts().get(s-1));                    }                }                System.out.println("Would you wont to add another products? (yes/no)");                String ans = sc.next();                if(ans.equals("yes")){                    continue;                }                else if(ans.equals("no")){                    break;                }                else{                    System.out.println("Invalid input");                }            }        }        else if(q == 2){            shopList.add(shopFactory.getShopByTitle("Technodom"));            Technodom technodom = new Technodom();            Product product1T = new Product("Phone123", 12000, "black");            Product product2T = new Product("Phone233", 17000, "yellow");            Product product3T = new Product("Phone343", 54500, "yellow");            Product product5T = new Product("PC12", 79500, "Gray");            technodom.getListOfProducts().add(product1T);            technodom.getListOfProducts().add(product2T);            technodom.getListOfProducts().add(product3T);            technodom.getListOfProducts().add(product5T);            for (int i = 0; i < shopList.size(); i++) {                if (shopList.get(i) instanceof Technodom) {                    for (int j = 0; j < technodom.getListOfProducts().size(); j++) {                        System.out.println(j + 1 + ".) " + technodom.getListOfProducts().get(j));                    }                }            }            while (true) {                System.out.println("Please, choose the product that you wont to add:");                int s = sc.nextInt();                if (s >= 1 && s <= technodom.getListOfProducts().size()) {                    for (int i = 0; i < technodom.getListOfProducts().size(); i++) {                        if(s-1 == i)                        products.add(technodom.getListOfProducts().get(s-1));                    }                }                System.out.println("Would you wont to add another products? (yes/no)");                String ans = sc.next();                if(ans.equals("yes")){                    continue;                }                else if(ans.equals("no")){                    break;                }                else{                    System.out.println("Invalid input");                }            }            for (int i = 0; i < products.size(); i++) {                System.out.println(products.get(i));            }        }        else {            System.out.println("Invalid input");        }        //----------------------------------------------------------------------        User user = new User();        user.getBasket().addAll(products);        user.setName("Misha");        user.setBalance(500000);        user.setActivity(activity);        for (int i = 0; i < 4; i++) {            user.sendProduct();            user.changeActivity(user);        }        Iterator it = user.getIterator();        System.out.println("Your purchase: ");        while (it.hasNext()){            System.out.println(it.next());        }        System.out.println("Good bye");    }}